<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta name="generator" content="Hugo 0.80.0" />
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>Setup java agent | Apache SkyWalking</title><meta property="og:title" content="Setup java agent" />
<meta property="og:description" content="Setup java agent  Agent is available for JDK 8 - 14. Find agent folder in SkyWalking release package Set agent.service_name in config/agent.config. Could be any String in English. Set collector.backend_service in config/agent.config. Default point to 127.0.0.1:11800, only works for local backend. Add -javaagent:/path/to/skywalking-package/agent/skywalking-agent.jar to JVM argument. And make sure to add it before the -jar argument.  The agent release dist is included in Apache official release. New agent package looks like this." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/main/latest/en/setup/service-agent/java-agent/readme/" />
<meta property="article:published_time" content="2021-07-10T03:55:20+00:00" />
<meta property="article:modified_time" content="2021-07-10T03:55:20+00:00" />
<meta itemprop="name" content="Setup java agent">
<meta itemprop="description" content="Setup java agent  Agent is available for JDK 8 - 14. Find agent folder in SkyWalking release package Set agent.service_name in config/agent.config. Could be any String in English. Set collector.backend_service in config/agent.config. Default point to 127.0.0.1:11800, only works for local backend. Add -javaagent:/path/to/skywalking-package/agent/skywalking-agent.jar to JVM argument. And make sure to add it before the -jar argument.  The agent release dist is included in Apache official release. New agent package looks like this.">
<meta itemprop="datePublished" content="2021-07-10T03:55:20+00:00" />
<meta itemprop="dateModified" content="2021-07-10T03:55:20+00:00" />
<meta itemprop="wordCount" content="3245">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Setup java agent"/>
<meta name="twitter:description" content="Setup java agent  Agent is available for JDK 8 - 14. Find agent folder in SkyWalking release package Set agent.service_name in config/agent.config. Could be any String in English. Set collector.backend_service in config/agent.config. Default point to 127.0.0.1:11800, only works for local backend. Add -javaagent:/path/to/skywalking-package/agent/skywalking-agent.jar to JVM argument. And make sure to add it before the -jar argument.  The agent release dist is included in Apache official release. New agent package looks like this."/>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-178891182-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<link rel="preload" href="/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">



<link rel="preload" href="/scss/main.min.183547de3e7337ab8639ed4b1e14334ce5038fdec7dd30707617ff0837722518.css" as="style">
<link href="/scss/main.min.183547de3e7337ab8639ed4b1e14334ce5038fdec7dd30707617ff0837722518.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

<script src="/js/jquery-3.6.0.min.js"></script>





    <title>Setup java agent | Apache SkyWalking</title>
  </head>
  <body class="td-page  project-doc">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
    <div class="sidebar-button"><svg width="40" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="126" height="30" src="/images/logo.png" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll ml-md-auto" id="navigation">
        <ul class="navbar-nav mt-lg-0">
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Documentations</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
              
            
            <li class="nav-item mr-3 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/zh" ><span>中文博客</span></a>
			</li>
              
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Links
              </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                </div>
            </li>
             
            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
<input id="algolia-search-input" type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">

      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 d-print-none td-sidebar">

                    
                    <h5>Documentation: 
                    <select class="version-select">
                    
                    
                    <option selected value="latest">latest</option>
                    
                    
                    <option ZgotmplZ value="v8.6.0">v8.6.0</option>
                    
                    
                    <option ZgotmplZ value="v8.5.0">v8.5.0</option>
                    
                    
                    <option ZgotmplZ value="v8.4.0">v8.4.0</option>
                    
                    
                    <option ZgotmplZ value="v8.3.0">v8.3.0</option>
                    
                    
                    <option ZgotmplZ value="v8.2.0">v8.2.0</option>
                    
                    </select>
                    </h5>
                    
                    
<ul class="sidebar-menu">
    

    <li>
        
            <a href="/docs/main/latest/readme">Welcome</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Concepts and Designs<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        

            
            <a href="#">What is SkyWalking?<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/overview">Overview and Core concepts</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/project-goals">Project Goals</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Probe<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/probe-introduction">Introduction</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/service-agent">Service Auto Instrument Agent</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/manual-sdk">Manual Instrument SDK</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/service-mesh-probe">Service Mesh probe</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Backend<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/backend-overview">Overview</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/oal">Observability Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/mal">Meter Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/lal">Log Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/protocols/readme#query-protocol">Query in OAP</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/ui-overview">UI</a>
        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking-cli">CLI</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/concepts-and-designs/event/">Event</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Setup<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        

            
            <a href="#">Java agent<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme">Setup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/containerization#docker">Setup in Docker</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/containerization#kubernetes">Setup in Kubernetes</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/supported-list">Supported middleware, framework and library</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#table-of-agent-configuration-properties">Agent Configuration Properties</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#dynamic-configurations">Dynamic Configurations</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#optional-plugins">Optional Plugins</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#bootstrap-class-plugins">Bootstrap/JVM class plugin</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme/#the-logic-endpoint">Logic Endpoint</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Advanced Features<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme/#advanced-features">Guidance</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/setting-override">Setting Override</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/tls">Transport Layer Security (TLS)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/namespace">Namespace Isolation</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/token-auth">Token Authentication</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Manual APIs<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/application-toolkit-trace">Tracing APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/opentracing">OpenTracing Tracer</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/application-toolkit-meter">Meter APIs</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/application-toolkit-trace-cross-thread">Across Thread Solution</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/application-toolkit-micrometer">MicroMeter Registry</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/how-to-tolerate-exceptions">Tolerate Custom Exceptions</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Log &amp; Trace Correlation<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/application-toolkit-log4j-1.x">Log4j</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/application-toolkit-log4j-2.x">Log4j2</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/application-toolkit-logback-1.x/">Logback</a>
        
    </li>

    

</ul>

        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/java-agent/readme#advanced-reporters">Advanced reporters</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/java-plugin-development-guide/">Plugin development guide</a>
        
    </li>

    

    <li>
        
            <a href="https://skyapmtest.github.io/Agent-Benchmarks/">Java Agent Performance Test</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/server-agents">Server Agents</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/service-agent/browser-agent">Browser Agent</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Backend<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-setup">Quick Start</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/configuration-vocabulary">Configuration Vocabulary</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Advanced Setup<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/service-auto-grouping">Service Grouping</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-setting-override">Overriding Settings</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-ip-port">IP And Port Setting</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-init-mode">Backend Init Mode Startup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-cluster">Cluster Management</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-storage">Choose Storage</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-receivers">Set Receivers</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-fetcher">Open Fetchers</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/advanced-deployment">Advanced Deployment Options</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/ttl">Data Lifecycle. Time To Live (TTL)</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-k8s">Deploy In Kubernetes</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Tracing<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/trace-sampling">Trace Sampling</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/slow-db-statement">Detect Slow Database Statement</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/uninstrumented-gateways">Uninstrumented Gateways</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Metrics<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/guides/backend-oal-scripts">OAL Scripts</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/endpoint-grouping-rules">Group Parameterized Endpoints</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-receivers#opentelemetry-receiver">OpenTelemetry Metrics Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-meter">Meter Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/apdex-threshold">Apdex Threshold</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/spring-sleuth-setup">Spring Sleuth Metrics Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-alarm">Alarm</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Logging<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/log-analyzer">Log Collecting And Analysis</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Self Observability<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-telemetry">Backend Telemetry</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-health-check">Health Check</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Extension<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/metrics-exporter">Metrics Exporter</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/dynamic-config">Dynamic Configuration</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Service Mesh<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/setup/istio/readme">Observe Istio Control Plane</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/envoy/als_setting">Observe Service Mesh</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/envoy/metrics_service_setting">Send Envoy Metrics to SkyWalking with / without Istio</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/backend-infrastructure-monitoring">Infrastructure Monitoring</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/setup/backend/ui-setup">UI Setup</a>
        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking-cli">CLI Setup</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/ui/readme">UI Introduction</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Contributing Guides<i class="fa fa-angle-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu" >
    

    <li>
        
            <a href="/docs/main/latest/en/guides/readme">Contribute</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/java-plugin-development-guide">Agent Plugin Development Guide</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/asf/committer">Become A Committer</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/how-to-release/">Release Guide</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/guides/how-to-build">Compiling Guide</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/protocols/readme">Protocols</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/latest/en/faq/readme">FAQs</a>
        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking/tree/master/changes">Changelog</a>
        
    </li>

    

</ul>
<script src="/js/sidebar-menu.js"></script>
<script>
  (function (){
    $.sidebarMenu($('.sidebar-menu'))
    var path = window.location.pathname;
    var hash = window.location.hash;
    var $a = $('.sidebar-menu a')
    $a.each(function (e){
      if($(this).attr('href')+'/' === path || $(this).attr('href').replace('#','/#') === path+hash){
        $(this).parents('li').addClass('active').show()
      }
    })
    $a.on('click',function (){
      var url = $(this).attr('href')
      if(url!=='#'){
        window.location.href = url
      }
    })
  })()
</script>
                    <div class="commit-id">Commit Id: b5eb157</div>
                  








</div>
            <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
                <i class="fa fa-bars doc-menu-button"></i>
                
<div class="td-content">











	<h1 id="setup-java-agent">Setup java agent</h1>
<ol>
<li>Agent is available for JDK 8 - 14.</li>
<li>Find <code>agent</code> folder in SkyWalking release package</li>
<li>Set <code>agent.service_name</code> in <code>config/agent.config</code>. Could be any String in English.</li>
<li>Set <code>collector.backend_service</code> in <code>config/agent.config</code>. Default point to <code>127.0.0.1:11800</code>, only works for local backend.</li>
<li>Add <code>-javaagent:/path/to/skywalking-package/agent/skywalking-agent.jar</code> to JVM argument. And make sure to add it before the <code>-jar</code> argument.</li>
</ol>
<p>The agent release dist is included in Apache <a href="http://skywalking.apache.org/downloads/">official release</a>. New agent package looks like this.</p>
<pre><code>+-- agent
    +-- activations
         apm-toolkit-log4j-1.x-activation.jar
         apm-toolkit-log4j-2.x-activation.jar
         apm-toolkit-logback-1.x-activation.jar
         ...
    +-- config
         agent.config  
    +-- plugins
         apm-dubbo-plugin.jar
         apm-feign-default-http-9.x.jar
         apm-httpClient-4.x-plugin.jar
         .....
    +-- optional-plugins
         apm-gson-2.x-plugin.jar
         .....
    +-- bootstrap-plugins
         jdk-http-plugin.jar
         .....
    +-- logs
    skywalking-agent.jar
</code></pre><ul>
<li>Start your application.</li>
</ul>
<h2 id="supported-middleware-framework-and-library">Supported middleware, framework and library</h2>
<p>SkyWalking agent has supported various middlewares, frameworks and libraries.
Read <a href="../supported-list">supported list</a> to get them and supported version.
If the plugin is in <strong>Optional²</strong> catalog, go to <a href="#optional-plugins">optional plugins</a> section to learn how to active it.</p>
<ul>
<li>All plugins are in <code>/plugins</code> folder. The plugin jar is active when it is in there. Remove the plugin jar, it disabled.</li>
<li>The default logging output folder is <code>/logs</code>.</li>
</ul>
<h2 id="install-javaagent-faqs">Install javaagent FAQs</h2>
<ul>
<li>Linux Tomcat 7, Tomcat 8, Tomcat 9<br>
Change the first line of <code>tomcat/bin/catalina.sh</code>.</li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#008080">CATALINA_OPTS</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;</span><span style="color:#008080">$CATALINA_OPTS</span><span style="color:#d14"> -javaagent:/path/to/skywalking-agent/skywalking-agent.jar&#34;</span>; <span style="color:#0086b3">export</span> CATALINA_OPTS
</code></pre></div><ul>
<li>Windows Tomcat 7, Tomcat 8, Tomcat 9<br>
Change the first line of <code>tomcat/bin/catalina.bat</code>.</li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#0086b3">set</span> <span style="color:#d14">&#34;CATALINA_OPTS=-javaagent:/path/to/skywalking-agent/skywalking-agent.jar&#34;</span>
</code></pre></div><ul>
<li>JAR file<br>
Add <code>-javaagent</code> argument to command line in which you start your app. eg:</li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">java -javaagent:/path/to/skywalking-agent/skywalking-agent.jar -jar yourApp.jar
</code></pre></div><ul>
<li>Jetty<br>
Modify <code>jetty.sh</code>, add <code>-javaagent</code> argument to command line in which you start your app. eg:</li>
</ul>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#0086b3">export</span> <span style="color:#008080">JAVA_OPTIONS</span><span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#34;</span><span style="color:#d14">${</span><span style="color:#008080">JAVA_OPTIONS</span><span style="color:#d14">}</span><span style="color:#d14"> -javaagent:/path/to/skywalking-agent/skywalking-agent.jar&#34;</span>
</code></pre></div><h2 id="table-of-agent-configuration-properties">Table of Agent Configuration Properties</h2>
<p>This is the properties list supported in <code>agent/config/agent.config</code>.</p>
<table>
<thead>
<tr>
<th>property key</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>agent.namespace</code></td>
<td>Namespace isolates headers in cross process propagation. The HEADER name will be <code>HeaderName:Namespace</code>.</td>
<td>Not set</td>
</tr>
<tr>
<td><code>agent.service_name</code></td>
<td>The service name to represent a logic group providing the same capabilities/logic. Suggestion: set a unique name for every logic service group, service instance nodes share the same code, Max length is 50(UTF-8 char). Optional, once <code>service_name</code> follows <code>&lt;group name&gt;::&lt;logic name&gt;</code> format, OAP server assigns the group name to the service metadata.</td>
<td><code>Your_ApplicationName</code></td>
</tr>
<tr>
<td><code>agent.sample_n_per_3_secs</code></td>
<td>Negative or zero means off, by default.SAMPLE_N_PER_3_SECS means sampling N TraceSegment in 3 seconds tops.</td>
<td>Not set</td>
</tr>
<tr>
<td><code>agent.authentication</code></td>
<td>Authentication active is based on backend setting, see application.yml for more details.For most scenarios, this needs backend extensions, only basic match auth provided in default implementation.</td>
<td>Not set</td>
</tr>
<tr>
<td><code>agent.trace_segment_ref_limit_per_span</code></td>
<td>The max number of TraceSegmentRef in a single span to keep memory cost estimatable.</td>
<td>500</td>
</tr>
<tr>
<td><code>agent.span_limit_per_segment</code></td>
<td>The max number of spans in a single segment. Through this config item, SkyWalking keep your application memory cost estimated.</td>
<td>300</td>
</tr>
<tr>
<td><code>agent.ignore_suffix</code></td>
<td>If the operation name of the first span is included in this set, this segment should be ignored.</td>
<td>Not set</td>
</tr>
<tr>
<td><code>agent.is_open_debugging_class</code></td>
<td>If true, skywalking agent will save all instrumented classes files in <code>/debugging</code> folder. SkyWalking team may ask for these files in order to resolve compatible problem.</td>
<td>Not set</td>
</tr>
<tr>
<td><code>agent.is_cache_enhanced_class</code></td>
<td>If true, SkyWalking agent will cache all instrumented classes files to memory or disk files (decided by class cache mode), allow another java agent to enhance those classes that enhanced by SkyWalking agent. To use some Java diagnostic tools (such as BTrace, Arthas) to diagnose applications or add a custom java agent to enhance classes, you need to enable this feature. <a href="../../../../faq/compatible-with-other-javaagent-bytecode-processing">Read this FAQ for more details</a></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>agent.class_cache_mode</code></td>
<td>The instrumented classes cache mode: <code>MEMORY</code> or <code>FILE</code>. <code>MEMORY</code>: cache class bytes to memory, if instrumented classes is too many or too large, it may take up more memory. <code>FILE</code>: cache class bytes in <code>/class-cache</code> folder, automatically clean up cached class files when the application exits.</td>
<td><code>MEMORY</code></td>
</tr>
<tr>
<td><code>agent.instance_name</code></td>
<td>Instance name is the identity of an instance, should be unique in the service. If empty, SkyWalking agent will generate an 32-bit uuid. Default, use <code>UUID</code>@<code>hostname</code> as the instance name. Max length is 50(UTF-8 char)</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td><code>agent.instance_properties[key]=value</code></td>
<td>Add service instance custom properties.</td>
<td>Not set</td>
</tr>
<tr>
<td><code>agent.cause_exception_depth</code></td>
<td>How depth the agent goes, when log all cause exceptions.</td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>agent.force_reconnection_period </code></td>
<td>Force reconnection period of grpc, based on grpc_channel_check_interval.</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>agent.operation_name_threshold </code></td>
<td>The operationName max length, setting this value &gt; 190 is not recommended.</td>
<td><code>150</code></td>
</tr>
<tr>
<td><code>agent.keep_tracing</code></td>
<td>Keep tracing even the backend is not available if this value is <code>true</code>.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>agent.force_tls</code></td>
<td>Force open TLS for gRPC channel if this value is <code>true</code>.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>osinfo.ipv4_list_size</code></td>
<td>Limit the length of the ipv4 list size.</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>collector.grpc_channel_check_interval</code></td>
<td>grpc channel status check interval.</td>
<td><code>30</code></td>
</tr>
<tr>
<td><code>collector.heartbeat_period</code></td>
<td>agent heartbeat report period. Unit, second.</td>
<td><code>30</code></td>
</tr>
<tr>
<td><code>collector.properties_report_period_factor</code></td>
<td>The agent sends the instance properties to the backend every <code>collector.heartbeat_period * collector.properties_report_period_factor</code> seconds</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>collector.backend_service</code></td>
<td>Collector SkyWalking trace receiver service addresses.</td>
<td><code>127.0.0.1:11800</code></td>
</tr>
<tr>
<td><code>collector.grpc_upstream_timeout</code></td>
<td>How long grpc client will timeout in sending data to upstream. Unit is second.</td>
<td><code>30</code> seconds</td>
</tr>
<tr>
<td><code>collector.get_profile_task_interval</code></td>
<td>Sniffer get profile task list interval.</td>
<td><code>20</code></td>
</tr>
<tr>
<td><code>collector.get_agent_dynamic_config_interval</code></td>
<td>Sniffer get agent dynamic config interval</td>
<td><code>20</code></td>
</tr>
<tr>
<td><code>collector.dns_period_resolve_active</code></td>
<td>If true, skywalking agent will enable periodically resolving DNS to update receiver service addresses.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>logging.level</code></td>
<td>Log level: TRACE, DEBUG, INFO, WARN, ERROR, OFF. Default is info.</td>
<td><code>INFO</code></td>
</tr>
<tr>
<td><code>logging.file_name</code></td>
<td>Log file name.</td>
<td><code>skywalking-api.log</code></td>
</tr>
<tr>
<td><code>logging.output</code></td>
<td>Log output. Default is FILE. Use CONSOLE means output to stdout.</td>
<td><code>FILE</code></td>
</tr>
<tr>
<td><code>logging.dir</code></td>
<td>Log files directory. Default is blank string, means, use &ldquo;{theSkywalkingAgentJarDir}/logs  &quot; to output logs. {theSkywalkingAgentJarDir} is the directory where the skywalking agent jar file is located</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td><code>logging.resolver</code></td>
<td>Logger resolver: <code>PATTERN</code> or <code>JSON</code>. The default is <code>PATTERN</code>, which uses <code>logging.pattern</code> to print traditional text logs. <code>JSON</code> resolver prints logs in JSON format.</td>
<td><code>PATTERN</code></td>
</tr>
<tr>
<td><code>logging.pattern </code></td>
<td>Logging format. There are all conversion specifiers: <br>  * <code>%level</code> means log level. <br>  *  <code>%timestamp</code> means now of time with format <code>yyyy-MM-dd HH:mm:ss:SSS</code>.<br>  *   <code>%thread</code> means name of current thread.<br>  *   <code>%msg</code> means some message which user logged. <br>  *  <code>%class</code> means SimpleName of TargetClass. <br>  *  <code>%throwable</code> means a throwable which user called. <br>  *  <code>%agent_name</code> means <code>agent.service_name</code>. Only apply to the <code>PatternLogger</code>.</td>
<td><code>%level %timestamp %thread %class : %msg %throwable</code></td>
</tr>
<tr>
<td><code>logging.max_file_size</code></td>
<td>The max size of log file. If the size is bigger than this, archive the current file, and write into a new file.</td>
<td><code>300 * 1024 * 1024</code></td>
</tr>
<tr>
<td><code>logging.max_history_files</code></td>
<td>The max history log files. When rollover happened, if log files exceed this number,then the oldest file will be delete. Negative or zero means off, by default.</td>
<td><code>-1</code></td>
</tr>
<tr>
<td><code>statuscheck.ignored_exceptions</code></td>
<td>Listed exceptions would not be treated as an error. Because in some codes, the exception is being used as a way of controlling business flow.</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td><code>statuscheck.max_recursive_depth</code></td>
<td>The max recursive depth when checking the exception traced by the agent. Typically, we don&rsquo;t recommend setting this more than 10, which could cause a performance issue. Negative value and 0 would be ignored, which means all exceptions would make the span tagged in error status.</td>
<td><code>1</code></td>
</tr>
<tr>
<td><code>correlation.element_max_number</code></td>
<td>Max element count in the correlation context.</td>
<td>3</td>
</tr>
<tr>
<td><code>correlation.value_max_length</code></td>
<td>Max value length of each element.</td>
<td><code>128</code></td>
</tr>
<tr>
<td><code>correlation.auto_tag_keys</code></td>
<td>Tag the span by the key/value in the correlation context, when the keys listed here exist.</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td><code>jvm.buffer_size</code></td>
<td>The buffer size of collected JVM info.</td>
<td><code>60 * 10</code></td>
</tr>
<tr>
<td><code>buffer.channel_size</code></td>
<td>The buffer channel size.</td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>buffer.buffer_size</code></td>
<td>The buffer size.</td>
<td><code>300</code></td>
</tr>
<tr>
<td><code>profile.active</code></td>
<td>If true, skywalking agent will enable profile when user create a new profile task. Otherwise disable profile.</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>profile.max_parallel</code></td>
<td>Parallel monitor segment count</td>
<td><code>5</code></td>
</tr>
<tr>
<td><code>profile.duration</code></td>
<td>Max monitor segment time(minutes), if current segment monitor time out of limit, then stop it.</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>profile.dump_max_stack_depth</code></td>
<td>Max dump thread stack depth</td>
<td><code>500</code></td>
</tr>
<tr>
<td><code>profile.snapshot_transport_buffer_size</code></td>
<td>Snapshot transport to backend buffer size</td>
<td><code>50</code></td>
</tr>
<tr>
<td><code>meter.active</code></td>
<td>If true, the agent collects and reports metrics to the backend.</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>meter.report_interval</code></td>
<td>Report meters interval. The unit is second</td>
<td><code>20</code></td>
</tr>
<tr>
<td><code>meter.max_meter_size</code></td>
<td>Max size of the meter pool</td>
<td><code>500</code></td>
</tr>
<tr>
<td><code>plugin.mount</code></td>
<td>Mount the specific folders of the plugins. Plugins in mounted folders would work.</td>
<td><code>plugins,activations</code></td>
</tr>
<tr>
<td><code>plugin.peer_max_length </code></td>
<td>Peer maximum description limit.</td>
<td><code>200</code></td>
</tr>
<tr>
<td><code>plugin.exclude_plugins </code></td>
<td>Exclude some plugins define in plugins dir.Plugin names is defined in <a href="../plugin-list">Agent plugin list</a></td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td><code>plugin.mongodb.trace_param</code></td>
<td>If true, trace all the parameters in MongoDB access, default is false. Only trace the operation, not include parameters.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.mongodb.filter_length_limit</code></td>
<td>If set to positive number, the <code>WriteRequest.params</code> would be truncated to this length, otherwise it would be completely saved, which may cause performance problem.</td>
<td><code>256</code></td>
</tr>
<tr>
<td><code>plugin.elasticsearch.trace_dsl</code></td>
<td>If true, trace all the DSL(Domain Specific Language) in ElasticSearch access, default is false.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.springmvc.use_qualified_name_as_endpoint_name</code></td>
<td>If true, the fully qualified method name will be used as the endpoint name instead of the request URL, default is false.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.toolit.use_qualified_name_as_operation_name</code></td>
<td>If true, the fully qualified method name will be used as the operation name instead of the given operation name, default is false.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.jdbc.trace_sql_parameters</code></td>
<td>If set to true, the parameters of the sql (typically <code>java.sql.PreparedStatement</code>) would be collected.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.jdbc.sql_parameters_max_length</code></td>
<td>If set to positive number, the <code>db.sql.parameters</code> would be truncated to this length, otherwise it would be completely saved, which may cause performance problem.</td>
<td><code>512</code></td>
</tr>
<tr>
<td><code>plugin.jdbc.sql_body_max_length</code></td>
<td>If set to positive number, the <code>db.statement</code> would be truncated to this length, otherwise it would be completely saved, which may cause performance problem.</td>
<td><code>2048</code></td>
</tr>
<tr>
<td><code>plugin.solrj.trace_statement</code></td>
<td>If true, trace all the query parameters(include deleteByIds and deleteByQuery) in Solr query request, default is false.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.solrj.trace_ops_params</code></td>
<td>If true, trace all the operation parameters in Solr request, default is false.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.light4j.trace_handler_chain</code></td>
<td>If true, trace all middleware/business handlers that are part of the Light4J handler chain for a request.</td>
<td>false</td>
</tr>
<tr>
<td><code>plugin.opgroup.*</code></td>
<td>Support operation name customize group rules in different plugins. Read <a href="../../../backend/endpoint-grouping-rules">Group rule supported plugins</a></td>
<td>Not set</td>
</tr>
<tr>
<td><code>plugin.springtransaction.simplify_transaction_definition_name</code></td>
<td>If true, the transaction definition name will be simplified.</td>
<td>false</td>
</tr>
<tr>
<td><code>plugin.jdkthreading.threading_class_prefixes</code></td>
<td>Threading classes (<code>java.lang.Runnable</code> and <code>java.util.concurrent.Callable</code>) and their subclasses, including anonymous inner classes whose name match any one of the <code>THREADING_CLASS_PREFIXES</code> (splitted by <code>,</code>) will be instrumented, make sure to only specify as narrow prefixes as what you&rsquo;re expecting to instrument, (<code>java.</code> and <code>javax.</code> will be ignored due to safety issues)</td>
<td>Not set</td>
</tr>
<tr>
<td><code>plugin.tomcat.collect_http_params</code></td>
<td>This config item controls that whether the Tomcat plugin should collect the parameters of the request. Also, activate implicitly in the profiled trace.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.springmvc.collect_http_params</code></td>
<td>This config item controls that whether the SpringMVC plugin should collect the parameters of the request, when your Spring application is based on Tomcat, consider only setting either <code>plugin.tomcat.collect_http_params</code> or <code>plugin.springmvc.collect_http_params</code>. Also, activate implicitly in the profiled trace.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.httpclient.collect_http_params</code></td>
<td>This config item controls that whether the HttpClient plugin should collect the parameters of the request</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.http.http_params_length_threshold</code></td>
<td>When <code>COLLECT_HTTP_PARAMS</code> is enabled, how many characters to keep and send to the OAP backend, use negative values to keep and send the complete parameters, NB. this config item is added for the sake of performance.</td>
<td><code>1024</code></td>
</tr>
<tr>
<td><code>plugin.http.http_headers_length_threshold</code></td>
<td>When <code>include_http_headers</code> declares header names, this threshold controls the length limitation of all header values. use negative values to keep and send the complete headers. Note. this config item is added for the sake of performance.</td>
<td><code>2048</code></td>
</tr>
<tr>
<td><code>plugin.http.include_http_headers</code></td>
<td>Set the header names, which should be collected by the plugin. Header name must follow <code>javax.servlet.http</code> definition. Multiple names should be split by comma.</td>
<td>``(No header would be collected) |</td>
</tr>
<tr>
<td><code>plugin.feign.collect_request_body</code></td>
<td>This config item controls that whether the Feign plugin should collect the http body of the request.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.feign.filter_length_limit</code></td>
<td>When <code>COLLECT_REQUEST_BODY</code> is enabled, how many characters to keep and send to the OAP backend, use negative values to keep and send the complete body.</td>
<td><code>1024</code></td>
</tr>
<tr>
<td><code>plugin.feign.supported_content_types_prefix</code></td>
<td>When <code>COLLECT_REQUEST_BODY</code> is enabled and content-type start with SUPPORTED_CONTENT_TYPES_PREFIX, collect the body of the request , multiple paths should be separated by <code>,</code></td>
<td><code>application/json,text/</code></td>
</tr>
<tr>
<td><code>plugin.influxdb.trace_influxql</code></td>
<td>If true, trace all the influxql(query and write) in InfluxDB access, default is true.</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>plugin.dubbo.collect_consumer_arguments</code></td>
<td>Apache Dubbo consumer collect <code>arguments</code> in RPC call, use <code>Object#toString</code> to collect <code>arguments</code>.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.dubbo.consumer_arguments_length_threshold</code></td>
<td>When <code>plugin.dubbo.collect_consumer_arguments</code> is <code>true</code>, Arguments of length from the front will to the OAP backend</td>
<td><code>256</code></td>
</tr>
<tr>
<td><code>plugin.dubbo.collect_provider_arguments</code></td>
<td>Apache Dubbo provider collect <code>arguments</code> in RPC call, use <code>Object#toString</code> to collect <code>arguments</code>.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.dubbo.consumer_provider_length_threshold</code></td>
<td>When <code>plugin.dubbo.provider_consumer_arguments</code> is <code>true</code>, Arguments of length from the front will to the OAP backend</td>
<td><code>256</code></td>
</tr>
<tr>
<td><code>plugin.kafka.bootstrap_servers</code></td>
<td>A list of host/port pairs to use for establishing the initial connection to the Kafka cluster.</td>
<td><code>localhost:9092</code></td>
</tr>
<tr>
<td><code>plugin.kafka.get_topic_timeout</code></td>
<td>Timeout period of reading topics from the Kafka server, the unit is second.</td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>plugin.kafka.consumer_config</code></td>
<td>Kafka producer configuration.</td>
<td></td>
</tr>
<tr>
<td><code>plugin.kafka.producer_config</code></td>
<td>Kafka producer configuration. Read <a href="http://kafka.apache.org/24/documentation.html#producerconfigs">producer configure</a> to get more details. Check <a href="../how-to-enable-kafka-reporter">Kafka report doc</a> for more details and examples.</td>
<td></td>
</tr>
<tr>
<td><code>plugin.kafka.topic_meter</code></td>
<td>Specify which Kafka topic name for Meter System data to report to.</td>
<td><code>skywalking_meters</code></td>
</tr>
<tr>
<td><code>plugin.kafka.topic_metrics</code></td>
<td>Specify which Kafka topic name for JVM metrics data to report to.</td>
<td><code>skywalking_metrics</code></td>
</tr>
<tr>
<td><code>plugin.kafka.topic_segment</code></td>
<td>Specify which Kafka topic name for traces data to report to.</td>
<td><code>skywalking_segments</code></td>
</tr>
<tr>
<td><code>plugin.kafka.topic_profilings</code></td>
<td>Specify which Kafka topic name for Thread Profiling snapshot to report to.</td>
<td><code>skywalking_profilings</code></td>
</tr>
<tr>
<td><code>plugin.kafka.topic_management</code></td>
<td>Specify which Kafka topic name for the register or heartbeat data of Service Instance to report to.</td>
<td><code>skywalking_managements</code></td>
</tr>
<tr>
<td><code>plugin.kafka.namespace</code></td>
<td>isolate multi OAP server when using same Kafka cluster (final topic name will append namespace before Kafka topics with <code>-</code> ).</td>
<td>`` |</td>
</tr>
<tr>
<td><code>plugin.springannotation.classname_match_regex</code></td>
<td>Match spring beans with regular expression for the class name. Multiple expressions could be separated by a comma. This only works when <code>Spring annotation plugin</code> has been activated.</td>
<td><code>All the spring beans tagged with @Bean,@Service,@Dao, or @Repository.</code></td>
</tr>
<tr>
<td><code>plugin.toolkit.log.transmit_formatted</code></td>
<td>Whether or not to transmit logged data as formatted or un-formatted.</td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>plugin.toolkit.log.grpc.reporter.server_host</code></td>
<td>Specify which grpc server&rsquo;s host for log data to report to.</td>
<td><code>127.0.0.1</code></td>
</tr>
<tr>
<td><code>plugin.toolkit.log.grpc.reporter.server_port</code></td>
<td>Specify which grpc server&rsquo;s port for log data to report to.</td>
<td><code>11800</code></td>
</tr>
<tr>
<td><code>plugin.toolkit.log.grpc.reporter.max_message_size</code></td>
<td>Specify the maximum size of log data for grpc client to report to.</td>
<td><code>10485760</code></td>
</tr>
<tr>
<td><code>plugin.toolkit.log.grpc.reporter.upstream_timeout</code></td>
<td>How long grpc client will timeout in sending data to upstream. Unit is second.</td>
<td><code>30</code> seconds</td>
</tr>
<tr>
<td><code>plugin.lettuce.trace_redis_parameters</code></td>
<td>If set to true, the parameters of Redis commands would be collected by Lettuce agent.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.lettuce.redis_parameter_max_length</code></td>
<td>If set to positive number and <code>plugin.lettuce.trace_redis_parameters</code> is set to <code>true</code>, Redis command parameters would be collected and truncated to this length.</td>
<td><code>128</code></td>
</tr>
<tr>
<td><code>plugin.neo4j.trace_cypher_parameters</code></td>
<td>If set to true, the parameters of the cypher would be collected.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>plugin.neo4j.cypher_parameters_max_length</code></td>
<td>If set to positive number, the <code>db.cypher.parameters</code> would be truncated to this length, otherwise it would be completely saved, which may cause performance problem.</td>
<td><code>512</code></td>
</tr>
<tr>
<td><code>plugin.neo4j.cypher_body_max_length</code></td>
<td>If set to positive number, the <code>db.statement</code> would be truncated to this length, otherwise it would be completely saved, which may cause performance problem.</td>
<td><code>2048</code></td>
</tr>
</tbody>
</table>
<h2 id="dynamic-configurations">Dynamic Configurations</h2>
<p>All configurations above are static, if you need to change some agent settings at runtime, please read <a href="../configuration-discovery">CDS - Configuration Discovery Service document</a> for more details.</p>
<h2 id="optional-plugins">Optional Plugins</h2>
<p>Java agent plugins are all pluggable. Optional plugins could be provided in <code>optional-plugins</code> folder under agent or 3rd party repositories.
For using these plugins, you need to put the target plugin jar file into <code>/plugins</code>.</p>
<p>Now, we have the following known optional plugins.</p>
<ul>
<li><a href="../agent-optional-plugins/spring-annotation-plugin">Plugin of tracing Spring annotation beans</a></li>
<li><a href="../agent-optional-plugins/oracle-resin-plugins">Plugin of tracing Oracle and Resin</a></li>
<li><a href="../agent-optional-plugins/trace-ignore-plugin">Filter traces through specified endpoint name patterns</a></li>
<li>Plugin of Gson serialization lib in optional plugin folder.</li>
<li>Plugin of Zookeeper 3.4.x in optional plugin folder. The reason of being optional plugin is, many business irrelevant traces are generated, which cause extra payload to agents and backends. At the same time, those traces may be just heartbeat(s).</li>
<li><a href="../customize-enhance-trace">Customize enhance</a> Trace methods based on description files, rather than write plugin or change source codes.</li>
<li>Plugin of Spring Cloud Gateway 2.1.x in optional plugin folder. Please only active this plugin when you install agent in Spring Gateway. spring-cloud-gateway-2.x-plugin and spring-webflux-5.x-plugin are both required.</li>
<li>Plugin of Spring Transaction in optional plugin folder. The reason of being optional plugin is, many local span are generated, which also spend more CPU, memory and network.</li>
<li><a href="../agent-optional-plugins/kotlin-coroutine-plugin">Plugin of Kotlin coroutine</a> provides the tracing across coroutines automatically. As it will add local spans to all across routines scenarios, Please assess the performance impact.</li>
<li>Plugin of quartz-scheduler-2.x in the optional plugin folder. The reason for being an optional plugin is, many task scheduling systems are based on quartz-scheduler, this will cause duplicate tracing and link different sub-tasks as they share the same quartz level trigger, such as ElasticJob.</li>
<li>Plugin of spring-webflux-5.x in the optional plugin folder. Please only activate this plugin when you use webflux alone as a web container. If you are using SpringMVC 5 or Spring Gateway, you don&rsquo;t need this plugin.</li>
<li>Plugin of mybatis-3.x in optional plugin folder. The reason of being optional plugin is, many local span are generated, which also spend more CPU, memory and network.</li>
<li>Plugin of sentinel-1.x in the optional plugin folder. The reason for being an optional plugin is, the sentinel plugin generates a large number of local spans, which have a potential performance impact.</li>
<li>Plugin of ehcache-2.x in the optional plugin folder. The reason for being an optional plugin is, this plugin enhanced cache framework, generates large number of local spans, which have a potential performance impact.</li>
<li>Plugin of guava-cache in the optional plugin folder. The reason for being an optional plugin is, this plugin enhanced cache framework, generates large number of local spans, which have a potential performance impact.</li>
</ul>
<h2 id="bootstrap-class-plugins">Bootstrap class plugins</h2>
<p>All bootstrap plugins are optional, due to unexpected risk. Bootstrap plugins are provided in <code>bootstrap-plugins</code> folder.
For using these plugins, you need to put the target plugin jar file into <code>/plugins</code>.</p>
<p>Now, we have the following known bootstrap plugins.</p>
<ul>
<li>Plugin of JDK HttpURLConnection. Agent is compatible with JDK 1.6+</li>
<li>Plugin of JDK Callable and Runnable. Agent is compatible with JDK 1.6+</li>
</ul>
<h2 id="the-logic-endpoint">The Logic Endpoint</h2>
<p>In default, all the RPC server-side names as entry spans, such as RESTFul API path and gRPC service name, would be endpoints with metrics.
At the same time, SkyWalking introduces the logic endpoint concept, which allows plugins and users to add new endpoints without adding new spans.
The following logic endpoints are added automatically by plugins.</p>
<ol>
<li>GraphQL Query and Mutation are logic endpoints by using the names of them.</li>
<li>Spring&rsquo;s ScheduledMethodRunnable jobs are logic endpoints. The name format is <code>SpringScheduled</code>/<code>${className}</code>/<code>${methodName}</code>.</li>
<li>Apache ShardingSphere ElasticJob&rsquo;s jobs are logic endpoints. The name format is <code>ElasticJob</code>/<code>${jobName}</code>.</li>
<li>XXLJob&rsquo;s jobs are logic endpoints. The name formats include <code>xxl-job</code>/<code>MethodJob</code>/<code>${className}</code>.<code>${methodName}</code>, <code>xxl-job</code>/<code>ScriptJob</code>/<code>${GlueType}</code>/<code>id</code>/<code>${jobId}</code>, and <code>xxl-job</code>/<code>SimpleJob</code>/<code>${className}</code>.</li>
<li>Quartz(optional plugin)&rsquo;s jobs are logic endpoints. the name format is <code>quartz-scheduler</code>/<code>${className}</code>.</li>
</ol>
<p>User could use the SkyWalking&rsquo;s application toolkits to add the tag into the local span to label the span as a logic endpoint in the analysis stage.
The tag is, key=<code>x-le</code> and value = <code>{&quot;logic-span&quot;:true}</code>.</p>
<h2 id="advanced-features">Advanced Features</h2>
<ul>
<li>Set the settings through system properties for config file override. Read <a href="../setting-override">setting override</a>.</li>
<li>Use gRPC TLS to link backend. See <a href="../tls">open TLS</a></li>
<li>Monitor a big cluster by different SkyWalking services. Use <a href="../namespace">Namespace</a> to isolate the context propagation.</li>
<li>Set client <a href="../token-auth">token</a> if backend open <a href="../../../backend/backend-token-auth">token authentication</a>.</li>
<li>Application Toolkit, are a collection of libraries, provided by SkyWalking APM. Using them, you have a bridge between your application and SkyWalking APM agent.
<ul>
<li>If you want your codes to interact with SkyWalking agent, including <code>getting trace id</code>, <code>setting tags</code>, <code>propagating custom data</code> etc.. Try <a href="../application-toolkit-trace">SkyWalking manual APIs</a>.</li>
<li>If you require customized metrics, try <a href="../application-toolkit-meter">SkyWalking Meter System Toolkit</a>.</li>
<li>If you want to continue traces across thread manually, use <a href="../application-toolkit-trace-cross-thread">across thread solution APIs</a>.</li>
<li>If you want to forward MicroMeter/Spring Sleuth metrics to Meter System, use <a href="../application-toolkit-micrometer">SkyWalking MicroMeter Register</a>.</li>
<li>If you want to use OpenTracing Java APIs, try <a href="../opentracing">SkyWalking OpenTracing compatible tracer</a>. More details you could find at <a href="http://opentracing.io">http://opentracing.io</a></li>
<li>If you want to tolerate some exceptions, read <a href="../how-to-tolerate-exceptions">tolerate custom exception doc</a>.</li>
<li>If you want to print trace context(e.g. traceId) in your logs, or collect logs, choose the log frameworks, <a href="../application-toolkit-log4j-1.x">log4j</a>, <a href="../application-toolkit-log4j-2.x">log4j2</a>, <a href="../application-toolkit-logback-1.x">logback</a>.</li>
</ul>
</li>
<li>If you want to specify the path of your agent.config file. Read <a href="../specified-agent-config">set config file through system properties</a></li>
</ul>
<h2 id="advanced-reporters">Advanced Reporters</h2>
<p>The advanced report provides an alternative way to submit the agent collected data to the backend. All of them are in the <code>optional-reporter-plugins</code> folder, move the one you needed into the <code>reporter-plugins</code> folder for the activation. <strong>Notice, don&rsquo;t try to activate multiple reporters, that could cause unexpected fatal errors.</strong></p>
<ul>
<li>Use Kafka to transport the traces, JVM metrics, instance properties, and profiled snapshots to the backend. Read the <a href="../how-to-enable-kafka-reporter">How to enable Kafka Reporter</a> for more details.</li>
</ul>
<h2 id="plugin-development-guide">Plugin Development Guide</h2>
<p>SkyWalking java agent supports plugin to extend <a href="../supported-list">the supported list</a>. Please follow
our <a href="../../../../guides/java-plugin-development-guide">Plugin Development Guide</a>.</p>




</div>


            </main>
          <div id="toc" class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#setup-java-agent">Setup java agent</a>
      <ul>
        <li><a href="#supported-middleware-framework-and-library">Supported middleware, framework and library</a></li>
        <li><a href="#install-javaagent-faqs">Install javaagent FAQs</a></li>
        <li><a href="#table-of-agent-configuration-properties">Table of Agent Configuration Properties</a></li>
        <li><a href="#dynamic-configurations">Dynamic Configurations</a></li>
        <li><a href="#optional-plugins">Optional Plugins</a></li>
        <li><a href="#bootstrap-class-plugins">Bootstrap class plugins</a></li>
        <li><a href="#the-logic-endpoint">The Logic Endpoint</a></li>
        <li><a href="#advanced-features">Advanced Features</a></li>
        <li><a href="#advanced-reporters">Advanced Reporters</a></li>
        <li><a href="#plugin-development-guide">Plugin Development Guide</a></li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>

        </div>
      </div>

      
<footer class="bg-dark py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-white" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/apache/skywalking">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-white">&copy; 2017 - 2021 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-white   mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    















































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/zh/" class="nav-link">中文博客</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open"><a class="dropdown-title"><span class="title">Links</span> <span
                    class="arrow down"></span></a>
                <ul class="nav-dropdown" style="">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="/js/bootstrap.bundle.min.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>











<script src="/js/main.min.b39e9e0a8b4cdf9f436c5f7899461300ecea2f05f620805ef970b7832857a4cb.js" integrity="sha256-s56eCotM359DbF94mUYTAOzqLwX2IIBe&#43;XC3gyhXpMs=" crossorigin="anonymous"></script>





  </body>
  <script>
    $(function (){
      $('.doc-menu-button').on('click',function (){
        $('.td-sidebar').toggleClass('active')
      })
      $('.version-select').on('change', function (){
        var selectVersion = $(this).val();
        var prefix = '';
        var url = location.href.replace(/(\/docs\/[a-zA-Z\-]+\/)([\w|\.]+)(\/.*)/, function (match, p1, p2, p3){
          prefix = p1 + selectVersion;
          return p1 + selectVersion + p3
        })
        go2SelectVersion(url, prefix)

      })
      function go2SelectVersion(url, prefix){
        $.ajax({
          url: url,
          type: "get",
          success:function(){
            location.href = url;
          },
          statusCode: {
            404:function(){
              location.href = prefix + '/readme/';
            }
          }
        });
      }
    })
  </script>
</html>
